<view class="container">
  <view class="order-status-card">
    <image class="status-icon" src="/images/order-status.png"></image>
    <text class="status-text">{{order.statusText}}</text>
    <text class="status-desc">{{order.statusDesc}}</text>
  </view>

  <view class="order-info-card">
    <view class="info-row">
      <text class="info-label">订单号</text>
      <text class="info-value">{{order.orderNo}}</text>
    </view>
    <view class="info-row">
      <text class="info-label">桌号</text>
      <text class="info-value">{{order.tableNumber}}</text>
    </view>
    <view class="info-row">
      <text class="info-label">下单时间</text>
      <text class="info-value">{{order.createTimeText}}</text>
    </view>
    <view class="info-row" wx:if="{{order.payTime}}">
      <text class="info-label">支付时间</text>
      <text class="info-value">{{order.payTimeText}}</text>
    </view>
  </view>

  <view class="order-items-card">
    <view class="card-title">订单明细</view>
    <view class="item-list">
      <view class="item-row" wx:for="{{order.items}}" wx:key="dishId">
        <image class="item-image" src="{{item.image}}" mode="aspectFill"></image>
        <view class="item-info">
          <text class="item-name">{{item.name}}</text>
          <text class="item-price">¥{{item.price}}</text>
        </view>
        <text class="item-quantity">x{{item.quantity}}</text>
      </view>
    </view>
  </view>

  <view class="order-remark-card" wx:if="{{order.remark}}">
    <view class="card-title">备注</view>
    <text class="remark-text">{{order.remark}}</text>
  </view>

  <view class="order-total-card">
    <view class="total-row">
      <text class="total-label">商品总额</text>
      <text class="total-value">¥{{order.totalPrice}}</text>
    </view>
    <view class="total-row main">
      <text class="total-label">实付金额</text>
      <text class="total-value price">¥{{order.totalPrice}}</text>
    </view>
  </view>

  <view class="action-bar">
    <button 
      class="action-btn cancel-btn" 
      wx:if="{{order.status === 0}}" 
      bindtap="cancelOrder"
    >
      取消订单
    </button>
    <button 
      class="action-btn pay-btn" 
      wx:if="{{order.status === 0}}" 
      bindtap="payOrder"
    >
      去支付
    </button>
    <button 
      class="action-btn contact-btn" 
      wx:if="{{order.status > 0 && order.status < 3}}"
      bindtap="contactService"
    >
      联系商家
    </button>
  </view>
</view>