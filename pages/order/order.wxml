<view class="container">
  <view class="tabs">
    <view 
      class="tab-item {{currentTab === 0 ? 'active' : ''}}" 
      bindtap="switchTab" 
      data-tab="0"
    >
      <text>â³ å¾…å¤„ç†</text>
    </view>
    <view 
      class="tab-item {{currentTab === 1 ? 'active' : ''}}" 
      bindtap="switchTab" 
      data-tab="1"
    >
      <text>ğŸ”¥ è¿›è¡Œä¸­</text>
    </view>
    <view 
      class="tab-item {{currentTab === 2 ? 'active' : ''}}" 
      bindtap="switchTab" 
      data-tab="2"
    >
      <text>âœ… å·²å®Œæˆ</text>
    </view>
  </view>

  <scroll-view scroll-y class="order-list" bindscrolltolower="loadMore">
    <view class="empty-state" wx:if="{{orders.length === 0}}">
      <view class="empty-icon">ğŸ“‹</view>
      <text class="empty-text">æš‚æ— è®¢å•</text>
    </view>

    <view class="order-item" wx:for="{{orders}}" wx:key="_id" bindtap="goToDetail" data-id="{{item._id}}">
      <view class="order-header">
        <text class="order-no">ğŸ“ è®¢å•å·ï¼š{{item.orderNo}}</text>
        <text class="order-status">{{item.statusEmoji || 'ğŸ”´'}} {{item.statusText}}</text>
      </view>
      <view class="order-info">
        <text class="table-number">ğŸ“ æ¡Œå·ï¼š{{item.tableNumber}}</text>
        <text class="order-time">ğŸ• {{item.timeText}}</text>
      </view>
      <view class="order-items">
        <view class="item-preview" wx:for="{{item.items}}" wx:for-item="dish" wx:key="dishId">
          <view class="dish-image-placeholder">{{dish.emoji || 'ğŸ½ï¸'}}</view>
          <text class="dish-name">{{dish.name}}</text>
          <text class="dish-quantity">x{{dish.quantity}}</text>
        </view>
      </view>
      <view class="order-footer">
        <text class="total-price">ğŸ’° åˆè®¡ï¼šÂ¥{{item.totalPrice}}</text>
        <view class="action-btns">
          <button 
            class="action-btn pay-btn" 
            wx:if="{{item.status === 0}}" 
            catchtap="payOrder" 
            data-id="{{item._id}}"
          >
            ğŸ’³ å»æ”¯ä»˜
          </button>
          <button 
            class="action-btn cancel-btn" 
            wx:if="{{item.status === 0}}" 
            catchtap="cancelOrder" 
            data-id="{{item._id}}"
          >
            âŒ å–æ¶ˆè®¢å•
          </button>
          <button 
            class="action-btn reorder-btn" 
            wx:if="{{item.status === 2}}" 
            catchtap="reorder" 
            data-id="{{item._id}}"
          >
            ğŸ”„ å†æ¥ä¸€å•
          </button>
        </view>
      </view>
    </view>
  </scroll-view>
</view>