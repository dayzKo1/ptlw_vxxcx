<view class="container">
  <view class="tabs">
    <view 
      class="tab-item {{currentTab === 0 ? 'active' : ''}}" 
      bindtap="switchTab" 
      data-tab="0"
    >
      <text>å¾…å¤„ç†</text>
    </view>
    <view 
      class="tab-item {{currentTab === 1 ? 'active' : ''}}" 
      bindtap="switchTab" 
      data-tab="1"
    >
      <text>è¿›è¡Œä¸­</text>
    </view>
    <view 
      class="tab-item {{currentTab === 2 ? 'active' : ''}}" 
      bindtap="switchTab" 
      data-tab="2"
    >
      <text>å·²å®Œæˆ</text>
    </view>
  </view>

  <scroll-view scroll-y class="order-list" bindscrolltolower="loadMore">
    <view class="empty-state" wx:if="{{orders.length === 0}}">
      <text class="empty-icon">ğŸ“‹</text>
      <text class="empty-text">æš‚æ— è®¢å•</text>
    </view>

    <view class="order-card" wx:for="{{orders}}" wx:key="_id">
      <view class="order-header" bindtap="goToDetail" data-id="{{item._id}}">
        <view class="header-left">
          <text class="order-no">{{item.orderNo}}</text>
          <text class="order-time">{{item.timeText}}</text>
        </view>
        <text class="order-status status-{{item.status}}">{{item.statusText}}</text>
      </view>
      
      <view class="order-content" bindtap="goToDetail" data-id="{{item._id}}">
        <view class="order-items">
          <view class="item-row" wx:for="{{item.items}}" wx:for-item="dish" wx:key="dishId">
            <text class="item-name">{{dish.name}}</text>
            <text class="item-qty">x{{dish.quantity}}</text>
            <text class="item-price">Â¥{{dish.price}}</text>
          </view>
        </view>
      </view>
      
      <view class="order-footer">
        <view class="footer-left">
          <text class="table-tag" wx:if="{{item.tableNumber}}">{{item.tableNumber}}å·æ¡Œ</text>
          <text class="total-text">å…±{{item.itemCount}}ä»¶ å®ä»˜</text>
          <text class="total-price">Â¥{{item.totalPrice}}</text>
        </view>
        <view class="footer-right">
          <text class="btn-text" wx:if="{{item.status === 0}}" catchtap="cancelOrder" data-id="{{item._id}}">å–æ¶ˆ</text>
          <text class="btn-primary" wx:if="{{item.status === 0}}" catchtap="payOrder" data-id="{{item._id}}">å»æ”¯ä»˜</text>
          <text class="btn-primary" wx:if="{{item.status === 2}}" catchtap="reorder" data-id="{{item._id}}">å†æ¥ä¸€å•</text>
        </view>
      </view>
    </view>
    
    <view class="load-more" wx:if="{{hasMore}}">
      <text>åŠ è½½ä¸­...</text>
    </view>
  </scroll-view>
</view>