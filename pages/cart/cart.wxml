<view class="container">
  <view class="empty-cart" wx:if="{{cartItems.length === 0}}">
    <view class="empty-icon"><text>ğŸ›’</text></view>
    <text class="empty-text">è´­ç‰©è½¦æ˜¯ç©ºçš„</text>
    <button class="go-order-btn" bindtap="goToMenu">å»ç‚¹é¤</button>
  </view>

  <view class="cart-content" wx:else>
    <view class="cart-header">
      <text class="table-number">ğŸ“ æ¡Œå·ï¼š{{tableNumber || '0'}}</text>
      <text class="clear-btn" bindtap="clearCart">ğŸ—‘ï¸ æ¸…ç©º</text>
    </view>

    <view class="delivery-mode-section">
      <view class="mode-title">é…é€æ–¹å¼</view>
      <view class="mode-options">
        <view 
          class="mode-option {{deliveryMode === 'pickup' ? 'active' : ''}}" 
          bindtap="switchDeliveryMode" 
          data-mode="pickup"
        >
          <text class="mode-icon">ğŸƒ</text>
          <text class="mode-text">è‡ªå–</text>
        </view>
        <view 
          class="mode-option {{deliveryMode === 'delivery' ? 'active' : ''}}" 
          bindtap="switchDeliveryMode" 
          data-mode="delivery"
        >
          <text class="mode-icon">ğŸ›µ</text>
          <text class="mode-text">é…é€</text>
        </view>
      </view>
    </view>

    <scroll-view scroll-y class="cart-list">
      <view class="cart-item" wx:for="{{cartItems}}" wx:key="_id">
        <view class="dish-image-placeholder">{{item.emoji || 'ğŸ½ï¸'}}</view>
        <view class="dish-info">
          <text class="dish-name">{{item.name}}</text>
          <text class="dish-specs">{{item.specs}}</text>
          <view class="dish-bottom">
            <text class="dish-price">Â¥{{item.price}}</text>
            <view class="quantity-control">
              <view class="minus-btn" bindtap="minusDish" data-id="{{item._id}}">-</view>
              <text class="quantity">{{item.quantity}}</text>
              <view class="plus-btn" bindtap="plusDish" data-id="{{item._id}}">+</view>
            </view>
          </view>
        </view>
      </view>
    </scroll-view>

    <view class="remark-section">
      <text class="remark-label">ğŸ“ å¤‡æ³¨</text>
      <textarea 
        class="remark-input" 
        placeholder="è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯ï¼Œå¦‚ï¼šå°‘è¾£ã€ä¸è¦é¦™èœç­‰" 
        value="{{remark}}"
        bindinput="onRemarkInput"
        maxlength="100"
      ></textarea>
    </view>

    <view class="cart-footer">
      <view class="total-info">
        <text class="total-label">åˆè®¡</text>
        <text class="total-price">Â¥{{totalPrice}}</text>
      </view>
      <button class="submit-btn" bindtap="submitOrder">æäº¤è®¢å•</button>
    </view>
  </view>
</view>