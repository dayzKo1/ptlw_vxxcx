<view class="container">
  <view class="tabs">
    <view class="tab {{activeTab === 'available' ? 'active' : ''}}" bindtap="switchTab" data-tab="available">
      <text class="tab-text">å¯ç”¨</text>
    </view>
    <view class="tab {{activeTab === 'used' ? 'active' : ''}}" bindtap="switchTab" data-tab="used">
      <text class="tab-text">å·²ä½¿ç”¨</text>
    </view>
    <view class="tab {{activeTab === 'expired' ? 'active' : ''}}" bindtap="switchTab" data-tab="expired">
      <text class="tab-text">å·²è¿‡æœŸ</text>
    </view>
  </view>

  <view class="coupon-list" wx:if="{{coupons.length > 0}}">
    <view class="coupon-item {{item.status}}" wx:for="{{coupons}}" wx:key="_id">
      <view class="coupon-left">
        <view class="coupon-amount">
          <text class="amount-symbol">Â¥</text>
          <text class="amount-value">{{item.amount}}</text>
        </view>
        <text class="coupon-condition">æ»¡{{item.condition}}å…ƒå¯ç”¨</text>
      </view>
      <view class="coupon-right">
        <text class="coupon-name">{{item.name}}</text>
        <text class="coupon-time">{{item.startTime}} - {{item.endTime}}</text>
        <view class="coupon-btn" wx:if="{{activeTab === 'available'}}" bindtap="useCoupon" data-id="{{item._id}}">
          <text>ç«‹å³ä½¿ç”¨</text>
        </view>
        <view class="coupon-status" wx:else>
          <text>{{activeTab === 'used' ? 'å·²ä½¿ç”¨' : 'å·²è¿‡æœŸ'}}</text>
        </view>
      </view>
    </view>
  </view>

  <view class="empty-state" wx:if="{{coupons.length === 0}}">
    <view class="empty-icon">ğŸ«</view>
    <text class="empty-text">{{emptyText}}</text>
  </view>
</view>
