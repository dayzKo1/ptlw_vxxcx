# 快速开始指南

本指南帮助您在 30 分钟内完成点餐小程序的部署。

## 🚀 5 分钟快速部署

### 前提条件
- ✅ 已有微信小程序账号（个体工商户类型）
- ✅ 已完成小程序认证
- ✅ 已安装微信开发者工具

### 步骤 1：导入项目（1 分钟）
1. 打开微信开发者工具
2. 点击"导入项目"
3. 选择目录：`/Users/jj/Desktop/微信小程序/ptlw_vxxcx`
4. 填入你的 AppID
5. 点击"导入"

### 步骤 2：配置云开发（2 分钟）
1. 点击工具栏的"云开发"按钮
2. 创建云环境（选择"按量付费"）
3. 复制环境 ID
4. 修改 `cloudbaserc.json` 中的 `envId`

### 步骤 3：部署云函数（2 分钟）
1. 右键点击 `cloudfunctions` 文件夹
2. 选择"上传并部署：云端安装依赖"
3. 等待部署完成（约 1-2 分钟）

### 步骤 4：初始化数据库（1 分钟）
1. 进入云开发控制台
2. 创建数据库集合：`categories`、`dishes`、`orders`、`tables`、`shopInfo`
3. 在调试器运行：
```javascript
wx.cloud.callFunction({
  name: 'initDatabase'
}).then(res => console.log(res))
```

### 步骤 5：测试运行（1 分钟）
1. 点击"编译"按钮
2. 测试基本功能
3. 点击"预览"进行真机测试

## 📝 下一步

### 配置支付功能（可选）
如果需要在线支付功能，请参考 [DEPLOYMENT.md](./DEPLOYMENT.md) 中的支付配置章节。

### 准备图片资源
参考 [images/README.md](./images/README.md) 准备所需的图片资源。

### 自定义数据
在云开发控制台修改示例数据，添加你的菜品和分类。

## 🎯 核心功能说明

### 1. 扫码点餐
- 在首页点击"扫描桌号二维码"
- 或手动输入桌号
- 扫码后桌号会自动保存

### 2. 浏览菜品
- 首页展示热门推荐和分类
- 点击分类进入分类页面
- 点餐页面左侧为分类，右侧为菜品列表

### 3. 加入购物车
- 在菜品列表点击"+"按钮
- 购物车数量实时更新
- 底部显示购物车总价

### 4. 提交订单
- 进入购物车页面
- 确认订单信息
- 添加备注（可选）
- 点击"提交订单"

### 5. 订单管理
- 订单分为三个标签：待处理、进行中、已完成
- 待支付订单可以支付或取消
- 已完成订单可以"再来一单"

## 🔧 常见配置修改

### 修改店铺信息
1. 进入云开发控制台
2. 打开 `shopInfo` 集合
3. 修改店铺名称、地址、电话等信息

### 添加菜品
1. 进入云开发控制台
2. 打开 `dishes` 集合
3. 点击"添加记录"
4. 填写菜品信息：
   - `categoryId`: 所属分类 ID
   - `name`: 菜品名称
   - `description`: 菜品描述
   - `image`: 菜品图片 URL
   - `price`: 价格
   - `ingredients`: 主要食材
   - `spicyLevel`: 辣度（0-5）
   - `isHot`: 是否热销
   - `isNew`: 是否新品
   - `sort`: 排序序号
   - `status`: 状态（1=上架，0=下架）

### 添加分类
1. 进入云开发控制台
2. 打开 `categories` 集合
3. 点击"添加记录"
4. 填写分类信息：
   - `name`: 分类名称
   - `description`: 分类描述
   - `image`: 分类图片 URL
   - `sort`: 排序序号
   - `status`: 状态（1=启用，0=禁用）

### 添加桌号
1. 进入云开发控制台
2. 打开 `tables` 集合
3. 点击"添加记录"
4. 填写桌号信息：
   - `tableNumber`: 桌号（如"1号桌"）
   - `qrCode`: 二维码图片 URL
   - `status`: 状态（1=可用，0=不可用）

## 🐛 调试技巧

### 查看云函数日志
1. 进入云开发控制台
2. 点击"云函数"
3. 选择要查看的云函数
4. 点击"日志"标签

### 查看数据库数据
1. 进入云开发控制台
2. 点击"数据库"
3. 选择要查看的集合
4. 可以直接编辑数据

### 清除缓存
1. 在微信开发者工具中
2. 点击"清缓存" -> "清除全部缓存"

### 真机调试
1. 点击"真机调试"按钮
2. 使用微信扫描二维码
3. 在真机上调试并查看日志

## 📊 监控与维护

### 查看资源使用情况
1. 进入云开发控制台
2. 点击"监控"
3. 查看云函数调用次数、数据库读写次数等

### 备份数据
1. 进入云开发控制台
2. 点击"数据库"
3. 选择集合
4. 点击"导出"备份数据

## 💡 优化建议

### 性能优化
- 压缩图片大小
- 使用云存储 CDN 加速
- 合理使用缓存

### 用户体验优化
- 添加加载动画
- 优化页面切换效果
- 添加操作反馈

### 功能扩展
- 添加会员系统
- 添加优惠券功能
- 添加评价系统
- 添加外卖功能

## 📞 获取帮助

- 查看 [README.md](./README.md) 了解完整文档
- 查看 [DEPLOYMENT.md](./DEPLOYMENT.md) 了解详细部署流程
- 查看 [database/README.md](./database/README.md) 了解数据库结构
- 查看 [images/README.md](./images/README.md) 了解图片资源要求

## ⚠️ 注意事项

1. **必须使用个体工商户或企业账号**，个人账号无法开通支付功能
2. **云开发免费额度有限**，注意监控使用情况
3. **定期备份数据**，防止数据丢失
4. **测试充分后再上线**，避免影响用户体验
5. **遵守微信小程序规范**，避免审核被拒

## 🎉 开始使用

现在您已经完成了快速部署，可以开始使用点餐小程序了！

如有任何问题，请参考相关文档或联系技术支持。